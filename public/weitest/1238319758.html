<!DOCTYPE html>
<html>
  <head>
      <link href="http://wei.qq275.com/vapp/shangjieba.png" rel="shortcut icon" type="image/vnd.microsoft.icon">
      <title>全民找妹字</title>
      <meta charset="utf-8">

        <script src="http://wx.51self.com/js/jquery.min.js"></script>

      <script>  
        function click_ad(idx){
          ajax = new XMLHttpRequest();
          ajax.open('GET', "/weitest/click_stat?id=" + idx, true);
          ajax.send(null);
          return false;
        }
      </script>

      <meta http-equiv="Content-Type" content="text/html; charset=GB2312">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0">
        <meta http-equiv="pragma" content="no-cache">
        <meta http-equiv="Cache-Control" content="no-cache, must-revalidate">
        <meta http-equiv="expires" content="-1">
        <title>全民找妹字啦！</title>

        <link rel="shortcut icon" href="http://img1.gtimg.com/ln/pics/hv1/225/53/1683/109450815.png?s=1408156955">
        <link rel="icon" href="http://img1.gtimg.com/ln/pics/hv1/225/53/1683/109450815.png?s=1408156955" >  
        <link type="text/css" href="http://ln.qq.com/images/2014zt/08/1819/m.css"  rel="stylesheet">
        <link type="text/css" href="http://ln.qq.com/images/2014zt/08/1819/common.css" rel="stylesheet">
        <script src="http://ln.qq.com/images/2014zt/08/1819/zepto.min.js?s=1408156955"></script>
        <script>
        var btGame;
~ function(bt) {
    bt.URL = {
        root: "",
        getMoreGame: function() {
            bt.dc("more");
            return ""
        },
        getConcern: function() {
            return ""
        },
        appId: ""
    };
    bt.getGameId = function() {
        var href = location.href;
        href = href.slice(href.indexOf("://") + 3);
        var id = href.split("/")[2];
        return id
    };
    bt.getGamePath = function() {
        var href = location.href;
        href = href.slice(0, href.lastIndexOf("/") + 1);
        return href
    };
    bt.dc = function(button) {
        window.Dc_SetButtonClickData && Dc_SetButtonClickData(bt.getGameId(), button)
    };
    btGame.__d = document;
    btGame.__aList = [108, 111, 99, 97, 116, 105, 111, 110];
    btGame.__bList = [104, 114, 101, 102];
    btGame.__clist = [100, 111, 109, 97, 105, 110];
    btGame.__elist = [47, 105, 110, 100, 101, 120, 46, 104, 116, 109, 108, 39];
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    function popupBox(id, hideClass) {
        this.elemId = id;
        this.hideClass = hideClass || "bt-hide"
    };
    popupBox.prototype = {
        beforeShow: function() {},
        show: function() {
            this.beforeShow();
            var that = this;
            setTimeout(function() {
                $("#" + that.elemId).removeClass(that.hideClass)
            }, 1)
        },
        hide: function() {
            $("#" + this.elemId).addClass(this.hideClass)
        }
    };
    bt.popupBox = popupBox
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    bt.proxy = function(func, define) {
        return function() {
            func.apply(define, arguments)
        }
    }
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    bt.arCo = function(aa) {
        return [].slice.call($(aa).map(function(i, v) {
            return String.fromCharCode(v)
        }), 0).join("")
    };
    $(function() {
        bt.__gameId = $("#bt-game-id");
        bt.__arCo = bt.__gameId.length > 0 ? bt.__gameId.val() : "";
        var arr = [];
        for (var i = 0; i < bt.__arCo.length; i++) {
            arr[i] = bt.__arCo[i].charCodeAt(0)
        };
        bt.__arCo = arr
    });
    var publisher = function(obj) {
        this.__publisher__ = obj
    };
    publisher.prototype = {
        on: function(ev, func) {
            this.__publisher__.on(ev, bt.proxy(func, this))
        },
        fire: function(ev) {
            this.__publisher__.trigger(ev, [].slice.call(arguments, 1))
        },
        off: function(ev, func) {
            if (func) {
                this.__publisher__.off(ev, bt.proxy(func, this))
            } else {
                this.__publisher__.off(ev)
            }
        }
    };
    bt.makePublisher = function(obj) {
        var type = typeof obj;
        var p = new publisher($("<div></div>"));
        if (type == "function") {
            obj.prototype.__publisher__ = p.__publisher__;
            $.extend(obj.prototype, publisher.prototype)
        } else if (type == "object") {
            obj.__publisher__ = p.__publisher__;
            $.extend(obj, publisher.prototype)
        }
    }
}(btGame || (btGame = {}));

var btGame;
~ function(bt) {
    var body;

    function getB() {
        if (!body) {
            body = document.body || document.getElementsByTagName("body")[0]
        };
        return body
    };
    bt.getDomBody = getB;

    function craeteDiv() {
        return document.createElement("div")
    };
    bt.getNewDiv = craeteDiv
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    var defaultLockId = "bt-lock-screen";
    var createLock = function(id) {
        var div = bt.getNewDiv();
        div.id = id;
        var body = bt.getDomBody();
        body.appendChild(div);
        return $(div)
    };
    var lock = function(lockId) {
        bt.popupBox.call(this, lockId || defaultLockId)
    };
    lock.__super__ = bt.popupBox;
    lock.prototype = $.extend({}, bt.popupBox.prototype, {
        beforeShow: function() {
            var elem = this.getElem();
            if (elem.size() <= 0) {
                elem = createLock(this.elemId);
                elem.addClass("bt-lock-screen bt-animation bt-hide")
            }
        },
        remove: function() {
            var elem = this.getElem();
            if (elem.size() > 0) {
                elem.addClass("bt-hide");
                setTimeout(function() {
                    elem.remove()
                }, 200)
            }
        },
        getElem: function() {
            return $("#" + this.elemId)
        }
    });
    bt.lockScreen = function(id) {
        return new lock(id)
    }
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    var defaultOptions = {
        id: "bt-advertisement",
        html: "广告",
        time: 1500
    };
    var flash = function(options) {
        var newOptions = $.extend({}, defaultOptions, options || {});
        var $elem = $("#" + newOptions.id);
        var lock = new bt.lockScreen(newOptions.lockId);
        if ($elem.size() <= 0) {
            var $div = $(bt.getNewDiv()).attr({
                id: newOptions.id
            }).addClass(newOptions.id);
            var html = newOptions.html;
            $div.html(html);
            bt.getDomBody().appendChild($div[0]);
            $elem = $div
        };
        this.event = newOptions.id + "_timeup";
        var that = this;
        if (newOptions.time > 0) {
            var event = this.event;
            this.off(event);
            $elem.data("timer", setTimeout(function() {
                $elem.remove(), lock.hide();
                that.fire(event);
                newOptions = null;
                this.elem = this.lock = that.show = that.hide = null
            }, newOptions.time <= 0 ? 1500 : newOptions.time))
        };
        this.elem = $elem;
        this.lock = lock;
        this.show = function(html) {
            html && this.elem.html(html);
            this.elem.removeClass("bt-hide");
            this.lock.show()
        };
        this.hide = function() {
            this.elem.addClass("bt-hide");
            this.lock.hide()
        };
        this.remove = function() {
            this.lock.remove();
            this.elem.remove()
        }
    };
    bt.makePublisher(flash);
    bt.advertisement = function(options) {
        return new flash(options)
    }
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    var loadingDiv = null;
    var loadingText = null;
    var loading = function(rate, error) {
        if (rate > 0 && !loadingDiv) {
            loadingDiv = $(btGame.getNewDiv());
            loadingDiv.addClass("bt-game-loading");
            loadingDiv.html('<table><tr><td><img class="bt-img" src="" /><div class="bt-text"></div></td></tr></table>');
            bt.getDomBody().appendChild(loadingDiv[0]);
            loadingText = loadingDiv.find(".bt-text")
        };
        if (loadingDiv) {
            if (error) {
                loadingText.html(error)
            } else {
                var r = Math.round(rate * 100);
                loadingText.html("加载进度:" + r + "%")
            }
        };
        if (rate >= 1) {
            loadingDiv && loadingDiv.remove();
            loadingDiv = null
        }
    };
    bt.gameLoading = loading
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    function rate(width, height) {
        var wWidth = window.innerWidth,
            wHeight = window.innerHeight;
        var mid;
        if (width <= wWidth && height <= wHeight) {} else if (width > wWidth && height > wHeight) {
            var rateW = wWidth / width,
                rateH = wHeight / height;
            if (rateW <= rateH) {
                mid = width;
                width = wWidth;
                height = height * width / mid
            } else {
                mid = height;
                height = wHeight;
                width = width * height / mid
            }
        } else if (width > wWidth) {
            mid = width;
            width = wWidth;
            height = height * wWidth / mid
        } else if (height > wHeight) {
            mid = height;
            height = wHeight;
            width = width * wHeight / mid
        } else {};
        var top = (wHeight - height) / 2,
            left = (wWidth - width) / 2;
        return {
            width: width,
            height: height,
            top: top,
            left: left
        }
    };

    function resize($elem, width, height, top, left) {
        var result = rate(width, height);
        $elem.css({
            width: result.width,
            height: result.height,
            top: top == "center" ? result.top : top == "left" ? 0 : top,
            left: left == "center" ? result.left : left == "left" ? 0 : left
        });
        switch (top) {
            case "top":
                $elem.css({
                    top: 0
                });
                break;
            case "center":
                $elem.css({
                    top: result.top
                });
                break;
            case "bottom":
                $elem.css({
                    bottom: 0
                });
                break;
            default:
                $elem.css({
                    top: top
                })
        };
        switch (left) {
            case "left":
                $elem.css({
                    left: 0
                });
                break;
            case "center":
                $elem.css({
                    left: result.left
                });
                break;
            case "right":
                $elem.css({
                    right: 0
                });
                break;
            default:
                $elem.css({
                    left: left
                })
        };
        $elem.trigger("resizePlayArea", [result])
    };

    function bindResize($elem, width, height, top, left) {
        bt.checkHScreen(function() {
            setTimeout(function() {
                resize($elem, width, height, top, left)
            }, 500)
        })
    };
    bt.resizePlayArea = bindResize
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    function ask(cb) {
        if (confirm('')) {
            cb ? cb() : top.location.href = bt.URL.getConcern()
        }
    };
    bt.attentOurGame = ask
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    var screenResize = function(cb) {
        cb && cb(window.innerWidth > window.innerHeight)
    };

    function check(callback, once) {
        if (!once) {
            window.addEventListener("orientationchange", function() {
                screenResize(callback)
            });
            window.addEventListener("resize", function() {
                screenResize(callback)
            })
        };
        screenResize(callback)
    };
    bt.checkHScreen = check
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    var onlyH = function(once, callback) {
        this.myCallback = callback;
        this.tipsCount = 0;
        bt.checkHScreen(bt.proxy(this.callback, this), false);
        if (once) {
            this.once = once
        }
    };
    onlyH.prototype = {
        hscreen: function() {
            this.buildScreen();
            if (this.once && this.tipsCount <= 0) {
                this.screen && this.screen.show()
            } else if (!this.once) {
                this.screen && this.screen.show()
            };
            this.tipsCount++
        },
        vscreen: function() {
            this.screen && this.screen.hide();
            this.myCallback && this.myCallback(this.tipsCount)
        },
        getScreenOption: function() {
            return {
                id: "bt-h-scrren",
                html: "<table><tr><td><img class='bt-h-screen-img' src='http://mat1.gtimg.com/ln/images/2014zt/08/lnnewsmap/bt-play-h-screen.png' /></td></tr></table>",
                time: 0,
                lockId: 'bt-hide-lock'
            }
        },
        buildScreen: function() {
            !this.screen && (this.screen = btGame.advertisement(this.getScreenOption()))
        },
        callback: function(isHScreen) {
            isHScreen ? this.vscreen() : this.hscreen()
        }
    };
    var onlyV = function(once, callback) {
        onlyH.call(this, once, callback)
    };
    onlyV.__super__ = onlyH;
    onlyV.prototype = $.extend({}, onlyH.prototype, {
        hscreen: function() {
            onlyH.prototype.vscreen.call(this)
        },
        vscreen: function() {
            onlyH.prototype.hscreen.call(this)
        },
        getScreenOption: function() {
            return {
                id: "bt-v-scrren",
                html: "<table><tr><td><img class='bt-v-screen-img' src='http://mat1.gtimg.com/hb/wangyan/yingxin/bt-play-v-screen.png' /></td></tr></table>",
                time: 0,
                lockId: 'bt-hide-lock'
            }
        }
    });
    bt.onlyHScreen = function(once, callback) {
        return new onlyH(once, callback)
    };
    bt.onlyVScreen = function(once, callback) {
        return new onlyV(once, callback)
    }
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    var id = "bt-play-logo-adv";

    function ad(cb) {};
    bt.playLogoAdv = ad
}(btGame || (bgGame = {}));
var btGame;
~ function(bt) {
    var id = "bt-play-share-tip";

    function tip() {
        var a = bt.advertisement({
            id: id,
            html: "<img class='bt-play-share-tip-img' src='http://mat1.gtimg.com/ln/images/2014zt/08/lnnewsmap/123arqwe.png' />",
            time: 0
        });
        a.show();
        setTimeout(function() {
            a.elem.on("click touchstart", function() {
                a.remove();
                a = null;
                return false
            })
        }, 500);
        bt.dc("share")
    };
    bt.playShareTip = tip
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    function msg(text) {
        if (confirm(text)) {
            bt.playShareTip()
        }
    };
    bt.playScoreMsg = msg
}(btGame || (btGame = {}));
var btGame;
~ function(bt) {
    var clickTime = 0;
    var dataForWeixin = {
        width: "66",
        src: bt.getGamePath() + "icon1.png",
        url: location.href,
        title: document.title,
        desc: document.title,
        callback: function() {
            if (clickTime <= 0) {
                bt.attentOurGame()
            };
            clickTime++;
            bt.dc("realshare");
        }
    };
    window.dataForWeixin = dataForWeixin;
    var onBridgeReady = function() {
        WeixinJSBridge.on('menu:share:appmessage', function(argv) {
            WeixinJSBridge.invoke('sendAppMessage', {
                "img_url": dataForWeixin.src,
                "img_width": dataForWeixin.width,
                "img_height": dataForWeixin.width,
                "link": dataForWeixin.url,
                "desc": dataForWeixin.desc,
                "title": dataForWeixin.title
            }, function(res) {
                (dataForWeixin.callback)()
            })
        });
        WeixinJSBridge.on('menu:share:timeline', function(argv) {
            WeixinJSBridge.invoke('shareTimeline', {
                "img_url": dataForWeixin.src,
                "img_width": dataForWeixin.width,
                "img_height": dataForWeixin.width,
                "link": dataForWeixin.url,
                "desc": dataForWeixin.desc,
                "title": dataForWeixin.title
            }, function(res) {
                (dataForWeixin.callback)()
            })
        });
        WeixinJSBridge.on('menu:share:weibo', function(argv) {
            WeixinJSBridge.invoke('shareWeibo', {
                "content": dataForWeixin.title,
                "url": dataForWeixin.url
            }, function(res) {
                (dataForWeixin.callback)()
            })
        });
        WeixinJSBridge.on('menu:share:facebook', function(argv) {
            (dataForWeixin.callback)();
            WeixinJSBridge.invoke('shareFB', {
                "img_url": dataForWeixin.src,
                "img_width": dataForWeixin.width,
                "img_height": dataForWeixin.width,
                "link": dataForWeixin.url,
                "desc": dataForWeixin.desc,
                "title": dataForWeixin.title
            }, function(res) {})
        })
    };
    if (typeof WeixinJSBridge == "undefined") {
        if (document.addEventListener) {
            document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false)
        } else if (document.attachEvent) {
            document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
            document.attachEvent('onWeixinJSBridgeReady', onBridgeReady)
        }
    } else {
        onBridgeReady()
    };
    bt.setShare = function(option) {
        $.extend(dataForWeixin, option || {});
        document.title = dataForWeixin.desc = dataForWeixin.title;
    }
}(btGame || (btGame = {}));/*  |xGv00|60d04bdb3b4c0ecb61269150ac182739 */
        
        
        </script>
        <script type="text/javascript">

             window.shareData = {
                "imgUrl": "http://mat1.gtimg.com/hb/wangyan/yingxin/109451988aa.png",
                "timeLineLink": window.location.href,
                "tTitle": "全民找妹字啦",
                "tContent": "全民找妹字啦"
            };
        </script>
        
<style>
#box{ top:30px}
#help{ padding:0 30px}
#index h1{ padding: 10px 0;}
.btn { margin:5px 30px}
#dialog .wx {padding-top:30px;}
#dialog .wx img{width:100px;height:100px;}
</style>


  <style type="text/css"> 
    
  </style>
   
 </head>


<script src='http://res.wx.qq.com/open/js/jweixin-1.0.0.js' type='text/javascript'></script>
<script>
  wx.config({
    debug: false,
    appId: "wx629a5ad4f3fc5f63",
    timestamp: 1428706485,
    nonceStr:  "0873ae757ccf402aa0cda02181e328e9",
    signature: "671f5944fc5ebf45761623c472eb9792dff4ef3e",
    jsApiList: [
      'onMenuShareTimeline',
      'onMenuShareAppMessage',
      'onMenuShareQQ',
      'onMenuShareWeibo',
      'hideMenuItems',
      'showMenuItems'
    ]
  });

function share_api(){
  var share_callback_hy = function () {
      ajax = new XMLHttpRequest();
      ajax.open('GET', '/materials/wx_share?f=hy_1238319758', true);
      ajax.send(null);
  }

  var share_callback_pyq = function () {
      ajax = new XMLHttpRequest();
      ajax.open('GET', '/materials/wx_share?f=pyq_1238319758', true);
      ajax.send(null);
  }



  wx.ready(function(){
    var info = $("#info").text();
    wx.onMenuShareTimeline({
      title: info + "全民找妹字", // 分享标题
      link: "http://2000067423.zhan.qq.com/mobile/index.html", // 分享链接
      imgUrl: "http://mat1.gtimg.com/hb/wangyan/yingxin/109451988aa.png", // 分享图标
      success: function () {
        share_callback_pyq();
          location.href = "http://51self.com/weitest/1203611402 ";
        // 用户确认分享后执行的回调函数
      },
      cancel: function () { 
        // 用户取消分享后执行的回调函数
      }
    });

    wx.onMenuShareAppMessage({
      title: info + "全民找妹字", // 分享标题
      desc: "根本停不不下来", // 分享描述
      link: "http://2000067423.zhan.qq.com/mobile/index.html", // 分享链接
      imgUrl: "http://mat1.gtimg.com/hb/wangyan/yingxin/109451988aa.png", // 分享图标
      type: '', // 分享类型,music、video或link，不填默认为link
      dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
      success: function () {
        share_callback_hy();
          location.href = "http://51self.com/weitest/1203611402 ";
        // 用户确认分享后执行的回调函数
      },
      cancel: function () { 
        // 用户取消分享后执行的回调函数
      }
    });
  });

}

share_api();

</script>

  <script type="text/javascript">
    
  </script>

  
     <div class="grid">
            <div class="page hide" id="loading" style="display: none;">
                loading...
            </div>
            <div class="page hide" id="index" style="display: block;">
                <h1>全民找妹字！</h1>

                <div id="help">众里寻她千百度，暮然回首，妹字却在袜子深处。</div>
                <div id="logo"></div>
                <div class="btns">
                    <button data-type="color" class="btn play-btn">
                        开始游戏
                    </button>
                    
                </div>
            </div>
            <div class="page hide" id="room">
                <header>
                    <span class="lv">
                        得分：
                        <em>
                            1
                        </em>
                    </span>
                    <span class="time">
                    </span>
                    <span class="btn btn-pause">
                        暂停
                    </span>
                </header>
                <div id="box" class="lv1">
                </div>
            </div>
            <div class="page hide" id="dialog">
                <div class="inner">
                    <div class="content gameover">
                        <p>
                            经鉴定，您是：
                        </p>
                        <h3></h3>
                        <div class="btn-wrap">
                            <button class="btn btn-restart">
                                再来一次
                            </button>
                        </div>
                    </div>
                    <div class="content pause">
                        <h3>
                            游戏暂停
                        </h3>
                        <div class="btn-wrap">
                            <button class="btn btn-resume">
                                继续游戏
                            </button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
<div class="bq" style="position: absolute;; left:50%; bottom:0px; margin-left:-48px">
<img src="http://mat1.gtimg.com/hb/0000huangshi/logo.png" width="100px">
</div>
        <script type="text/javascript">
            btGame.onlyVScreen();
            btGame.playLogoAdv();
            // btGame.setShare({
            //     desc: "找出所有色块中颜色不同的一块。分享朋友圈，找到身边的妹字"
            // });
            window.addEventListener("orientationchange", function() {
                window.location.reload();
            });

           

          function onShareComplete(res) {
                         window.location.href='http://iy.hb.qq.com/Web/Index?siteid=438&from=singlemessage';
                       }


            document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
                        WeixinJSBridge.on('menu:share:appmessage', function(argv) {
                            WeixinJSBridge.invoke('sendAppMessage', {
                                "img_url": window.shareData.imgUrl,
                                "link": window.shareData.timeLineLink,
                                "desc": window.shareData.tContent,
                                "title": window.shareData.tTitle
                            }, onShareComplete);
                        });
                        WeixinJSBridge.on('menu:share:timeline', function(argv) {
                            WeixinJSBridge.invoke('shareTimeline', {
                                "img_url": window.shareData.imgUrl,
                                "img_width": "640",
                                "img_height": "640",
                                "link": window.shareData.timeLineLink,
                                "desc": window.shareData.tContent,
                                "title": window.shareData.tTitle
                            }, onShareComplete);
                        });
                    }, false);
        

        </script>
        <script src="http://ln.qq.com/images/2014zt/08/1819/libs.min.js?s=1408156955"></script>
        <script>
		
		var _config = {color: {allTime: 60,addTime: 0,lvMap: [2, 3, 4, 5, 5, 6, 6, 7, 7, 7, 8, 8, 8, 8, 8, 8, 9]},pic: {isOpen: !1,allTime: 5,addTime: 0,lvMap: [2, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8]}}; 
!function() {
    var a = $("#box"), b = {lv: $("#room .lv em"),time: $("#room .time"),start: $("#dialog .btn-restart"),back: $("#dialog .btn-back"),share: $("#dialog .btn-share"),pause: $("#room .btn-pause"),resume: $("#dialog .btn-resume"),dialog: $("#dialog"),d_content: $("#dialog .content"),d_pause: $("#dialog .pause"),d_gameover: $("#dialog .gameover")}, c = {init: function(a, b, c) {
            this.type = a, this.api = API[a], this.config = _config[a], this.reset(), this.parent = c, this.el = b, this.renderUI(), this.inited || this.initEvent(), this.inited = !0, this.start()
        },renderUI: function() {
            var b = 90 == window.orientation || -90 == window.orientation, c = b ? window.innerHeight : window.innerWidth;
            c -= 20, c = Math.min(c, 500), a.width(c).height(c), this.el.show()
        },initEvent: function() {
            var d = "ontouchstart" in document.documentElement ? "touchend" : "click", e = this;
            $(window).resize(function() {
                c.renderUI()
            }), a.on(d, "span", function() {
                var a = $(this).data("type");
                "a" == a && e.nextLv.call(e)
            }), b.pause.on(d, _.bind(this.pause, this)), b.resume.on(d, _.bind(this.resume, this)), b.start.on(d, _.bind(this.start, this)), b.back.on(d, _.bind(this.back, this)), b.share.on(d, _.bind(this.share, this))
        },start: function() {
            this.time > 5 && b.time.removeClass("danger"), b.dialog.hide(), this._pause = !1, this.lv = "undefined" != typeof this.lv ? this.lv + 1 : 0, this.lvMap = this.config.lvMap[this.lv] || _.last(this.config.lvMap), this.renderMap(), this.renderInfo(), this.timer || (this.timer = setInterval(_.bind(this.tick, this), 1e3))
        },share: function() {
        },resume: function() {
            b.dialog.hide(), this._pause = !1
        },pause: function() {
            this._pause = !0, b.d_content.hide(), b.d_pause.show(), b.dialog.show();
        },tick: function() {
            return this._pause ? void 0 : (this.time--, this.time < 6 && b.time.addClass("danger"), this.time < 0 ? void this.gameOver() : void b.time.text(parseInt(this.time)))
        },renderMap: function() {
            if (!this._pause) {
                var b = this.lvMap * this.lvMap, c = "", d = "lv" + this.lvMap;
                _(b).times(function() {
                    c += "<span></span>"
                }), a.attr("class", d).html(c), this.api.render(this.lvMap, this.lv)
            }
        },renderInfo: function() {
            b.lv.text(this.lv)
        },gameOver: function() {
            try {
                WeixinJSBridge.call("showOptionMenu");
            } catch (c) {
            }
            var d = this.api.getGameOverText(this.lv-1);
            this.lastLv = this.lv, this.lastGameTxt = d.txt, this.lastGamePercent = d.percent;

            // var shareTitle = this.lastLv > 0 ? "我闯过" + (this.lastLv + 1) + "关，击败" + this.lastGamePercent + "%的人！我是【" + this.lastGameTxt + "】！不服来战！" : "看你有多色？";
            var shareTitle = "我在1分钟内" + (this.lastLv) + "次从袜字中找到妹字！可她不跟我走！";
            window.shareData.tTitle=shareTitle;
            btGame.setShare({
                title: shareTitle
            });
            if (this.lastLv > 0) {
                var scoreMsg = "你一共" + (this.lastLv) + "次从袜字中找到妹字，你的24k氪金眼还没瞎吗？快让你的朋友也来试试吧" ;
                window.shareData.tTitle="我在1分钟内" + (this.lastLv) + "次从从袜字中找到妹字！你也来试试！";
                 $('#info').text( window.shareData.tTitle );
                 btGame.playScoreMsg(scoreMsg);
                 share_api();
            }

            b.d_content.hide(), b.d_gameover.show().find("h3").html(this.lastGameTxt), a.find("span").fadeOut(1e3, function() {
                b.dialog.fadeIn()
            }), this._pause = !0, this.reset()
        },reset: function() {
            this.time = this.config.allTime, this.lv = -1
        },nextLv: function() {
            this.time += this.config.addTime, b.time.text(parseInt(this.time)), this._pause || this.start()
        },back: function() {
            this._pause = !0, this.el.hide(), b.dialog.hide(), this.parent.render()
        }};
    window.Game = c
}(), function(a) {
    var b = {index: $("#index"),room: $("#room"),loading: $("#loading"),dialog: $("#dialog"),play: $(".play-btn")}, c = {init: function() {
            this.initEvent(), this.loading()
        },loading: function() {
            function a() {
                f++, f == e && c.render()
            }
            function b() {
            }
			if (_config.pic.isOpen)
				for (var d = ["assets/img/1.png", "assets/img/2.png", "assets/img/3.png", "assets/img/4.png", "assets/img/5.png", "assets/img/6.png", "assets/img/7.png", "assets/img/8.png", "assets/img/9.png", "assets/img/10.png", "assets/img/11.png", "assets/img/12.png", "assets/img/13.png", "assets/img/14.png", "assets/img/15.png", "assets/img/16.png", "assets/img/17.png", "assets/img/18.png"], e = d.length, f = 0, g = 0; e > g; g++) {
					var h = new Image;
					h.onload = a, h.src = d[g]
				} else
				c.render();
		}, render: function() {
            b.loading.hide(), b.index.show()
        },initEvent: function() {
            var a = "ontouchstart" in document.documentElement ? "touchstart" : "click", c = this;
            b.play.on(a, function() {
                var a = $(this).data("type") || "color";
                b.index.hide(), Game.init(a, b.room, c)
            })
        }};
    c.init(), a.API = {}
}(window), function() {
    var a = $("#box"), b = "span", c = $("#help p"), d = $("#help_color"), e = {lvT: ["把妹高手", "把妹达人", "把妹强人", "慧眼识妹字", "火眼金睛", "洞察一切", "两眼冒光", "24k氪金眼", "已被亮瞎！"],render: function(e, f) {
            this.lv = f, c.hide(), d.show();
            var g = _config.color.lvMap[f] || _.last(_config.color.lvMap);
            this.d = 15 * Math.max(9 - g, 1), this.d = f > 20 ? 10 : this.d, this.d = f > 40 ? 8 : this.d, this.d = f > 50 ? 5 : this.d;
            var h = Math.floor(Math.random() * e * e), i = this.getColor(255 - this.d), j = this.getLvColor(i[0]);
            a.find(b).css("background-color", i[1]).data("type", "b").css({"background": "url(http://mat1.gtimg.com/hb/wangyan/yingxin/109451991.png)"+j[1], "background-size": "cover"}), a.find(b).eq(h).css("background-color", j[1]).data("type", "a").css({"background": "url(http://mat1.gtimg.com/hb/wangyan/yingxin/109451988aa.png)"+j[1], "background-size": "cover"});
        },getColor: function(a) {
            var b = [Math.round(Math.random() * a), Math.round(Math.random() * a), Math.round(Math.random() * a)], c = "rgb(" + b.join(",") + ")";
            return [b, c]
        },getLvColor: function(a) {
            var b = this.d, c = _.map(a, function(a) {
                return a + b + 10
            }), d = "rgb(" + c.join(",") + ")";
            return [c, d]
        },getGameOverText: function(a) {
            // var b = 15 > a ? 0 : Math.ceil((a - 15) / 5), c = this.lvT[b] || _.last(this.lvT), d = c + "lv" + (a + 1), e = 2 * a;
            // return e = e > 90 ? 90 + .15 * a : e, e = Math.min(e, 100), {txt: d,percent: e}
            var b = 10 > a ? 0 : Math.ceil((a - 10) / 3), c = this.lvT[b] || _.last(this.lvT), d = c + "lv" + (a + 1), e = 2 * a;
			
            return e = e > 60 ? 60 + .1 * a : e, e = Math.min(e, 100), {txt: d,percent: e}
        }};
    API.color = e
}();
        
        
        </script>
<script language="javascript">if(typeof(pgvMain) == 'function') pgvMain();</script>

<div id='info' style='display:none;'>
</div>

 
      <div class="flexslider"   style="margin:0px auto; align:center;" >
      <a href="http://51self.com/weitest/1203611402" >
          <img style="width:100%; max-height:60px;" src="http://kaokao.qiniudn.com/head1.png" /> </a>
  <div class="holder" style="clear:both;"></div>
</div>
 
 
    <div style="display: none;">                                                   
  <script src="http://v1.cnzz.com/z_stat.php?id=1000438304&web_id=1000438304" language="JavaScript"></script>
</div>   

   
    <script>
  var url="/weitest/stat?type=pv&cid=343&gid=1239&uid="
  var img = new Image();
  img.src = url;
</script>


</html>

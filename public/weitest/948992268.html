<!DOCTYPE html>
<html>
    <head>
      <link href="http://wei.qq275.com/vapp/shangjieba.png" rel="shortcut icon" type="image/vnd.microsoft.icon">
      <title>拇指测试：你适合住什么样的房子？</title>
      <meta charset="utf-8">

        <script src="http://wx.51self.com/js/jquery.min.js"></script>

      <script>  
        function click_ad(idx){
          ajax = new XMLHttpRequest();
          ajax.open('GET', "/weitest/click_stat?id=" + idx, true);
          ajax.send(null);
          return false;
        }
      </script>

      <meta name="viewport" content="width=640,user-scalable=no;">
    <link href="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/reset.css" rel="stylesheet">
    <link href="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/zq2.css" rel="stylesheet">
    <script src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/jquery-1.9.1.min.js"></script>
    <script src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/Cmn.js"></script>
    <script src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/CmnAjax.js"></script>
    <script src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/CmnFuncExd.js"></script>

    <script src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/15/NbFunc.js"></script>
    <script>
        $(document).ready(function () {
            Cmn.Func.ImageLazyLoading(".main_wrap", function () {
            }, function () {
                $(".jscPreloader").hide();
            })
        });
    </script>
    <script>
        $(function () {
            var _Interval = 0;
            var _step = 1;
            $(".jscFingerprintRegional").on("mousedown touchstart", function (e) {
                var ev = e.touches ? e.touches[0] : e;
                $(".jscTestText").html("等待扫描");
                $(".DiffusionRound").addClass("DiffusionRoundscaleout");
                $(".jscRotateRound").addClass("ZhRound");
                _IsStop = true;
                $(".jscFingerprintArrowLeft").stop(true, true).animate({ left: "80px" }, 300);
                $(".jscFingerprintArrowRight").stop(true, true).animate({ right: "80px" }, 300);
                _Interval = window.setInterval(function () {
                    _step++;
                    if (_step > 3) {
                        $(".jscFingerprint img").show();
                        $(".jscTestText").html("扫描成功！");
                        $(".jscTestTipImg").eq(0).hide().siblings().show();

                        window.setTimeout(function () {
                            //页面跳转
                            $(".step01").hide();
                            $(".step02").show();
                            start_play2();
                        }, 800);
                    }
                }, 1000);

                ev.preventDefault();

            });

            $(".jscFingerprintRegional").on("mouseup touchend", function () {
                $(".DiffusionRound").removeClass("DiffusionRoundscaleout");
                $(".jscRotateRound").removeClass("ZhRound");
                //按下超过4秒
                if (_step > 3) {
                    window.setTimeout(function () {
                        //页面跳转
                        $(".step01").hide();
                        $(".step02").show();
                        start_play2();
                    }, 800);
                }
                else {//不超过四秒
                    window.clearInterval(_Interval);
                    _step = 0;
                    _IsStop = false;
                    ArrowAnimate();
                    $(".jscTestTipImg").eq(1).hide().siblings().show();
                    $(".jscTestText").html("扫描失败！请继续扫描...");
                }

            });

            var _IsStop = false;

            function ArrowAnimate() {
                if (_IsStop) {
                    return;
                }
                $(".jscFingerprintArrowLeft").stop(true, false).animate({ left: "80px" }, 500, function () {
                    $(this).stop(true, false).animate({ left: "55px" }, 500, function () {
                    })
                })
                $(".jscFingerprintArrowRight").stop(true, false).animate({ right: "80px" }, 500, function () {
                    $(this).stop(true, false).animate({ right: "55px" }, 500, function () {
                        ArrowAnimate();
                    })
                })
            }
            ArrowAnimate();
        });
    </script>
      <script type="text/javascript">
        
      </script>
        <script type="text/javascript">
                var r = -1;  
      var share_callback_hy = function () {
            ajax = new XMLHttpRequest();
            ajax.open('GET', '/weitest/wx_share?f=hy_948992268&r=' + r, true);
            ajax.send(null);
        }

        var share_callback_pyq = function () {
            ajax = new XMLHttpRequest();
            ajax.open('GET', '/weitest/wx_share?f=pyq_948992268&r=' + r, true);
            ajax.send(null);
        }

        var dataForWeixin = {
              appId: "wxb83fc0471808a49e",
              TLImg: "http://1251008728.cdn.myqcloud.com/1251008728/fanzi/17.jpg",
              
                   url: "http://newbuiqho.gmzzzl.cn" + "/v150411/weitest/948992268"  ,  
              
              title: "拇指测试：你适合住什么样的房子？ ", 
              desc: "很多人买房子的时候都会请风水大师看一下房子的方位，但是其实你适合住什么样的房子也跟你的出生年份有关。不同年出生的人命不同，因此房子的方位就不同。那么你适合住什么样的房子呢?"
        };
   
(function(){
	var onBridgeReady = function () {	
		WeixinJSBridge.on('menu:share:appmessage', function(argv){
                        var info = $("#info").text();          
                        info = info.replace("你", "我"); 
			WeixinJSBridge.invoke('sendAppMessage',{
				'img_url' : dataForWeixin.TLImg ,
				'img_width' : '120',
				'img_height' : '120',
				'link' : dataForWeixin.url,
				'desc' : dataForWeixin.desc,
				'title' : info + '  ' + dataForWeixin.title
			}, function(res) {
				switch(res.err_msg) {
					case "send_app_msg:confirm":
					case "send_app_msg:ok":
						location.href = "http://51self.com/weitest/1203611402"; 
						break;
				}
			});
			share_callback_hy ();
		});
		WeixinJSBridge.on('menu:share:timeline', function(argv){
                        var info = $("#info").text();          
                        info = info.replace("你", "我"); 
			WeixinJSBridge.invoke('shareTimeline',{
				'img_url' : dataForWeixin.TLImg ,
				'img_width' : '120',
				'img_height' : '120',
				'link' : dataForWeixin.url,
				'desc' : dataForWeixin.desc,
				'title' : info + '  ' + dataForWeixin.title
			}, function(res) {
				switch(res.err_msg) {
					case "share_timeline:confirm":
					case "share_timeline:ok":
						location.href = "http://51self.com/weitest/1203611402"; 
						break;
				}
			});
			share_callback_pyq();
		});
	};
	
	if(document.addEventListener){
		document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
	} else if(document.attachEvent){
		document.attachEvent('WeixinJSBridgeReady' , onBridgeReady);
		document.attachEvent('onWeixinJSBridgeReady' , onBridgeReady);
	}
	
})();	


        </script>
      <style type="text/css">
        .ScanningBottomLi p{
  font-size: 1.2em
}
.ScanningRoundWrap{
  top: 100px;
}
.ScanningBottom{
  top: 530px;
}

      </style>
    </head>
    


    <body style="width: 640px; background-color: rgb(250, 249, 249); " screen_capture_injected="true">
<div id="preloader" class="jscPreloader" style="display: none;">
    <div class="spinner-wrap">
        <div class="spinner">
            <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
        </div>
    </div>
</div>

<div class="main_wrap" >
    <div class="main">
        <div class="step01">
            <div class="touch_box">
                <img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/bg_2.jpg" class="bj">
                <img src="http://1251008728.cdn.myqcloud.com/1251008728/fanzi/16.png" class="test_title01">

                <div class="ZwWrap">
                    <!--指纹触发区域-->
                        <span style="outline: none; -webkit-tap-highlight-color: rgba(0,0,0,0); -moz-user-select: none; -webkit-user-select: none; "
                              class="FingerprintRegional jscFingerprintRegional">
                        </span>
                </div>
                <div class="FingerprintTestWrap">
                    <!--需要转的断圆-->
                    <div class="Position jscRotateRound">
                        <img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/ZhRound2.png"></div>
                    <!--指纹-->
                    <div class="Position FingerprintPic jscFingerprint">
                        <img style="display:none;" src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/FingerprintPic.png">
                    </div>
                    <!--箭头左-->
                    <div class="Position FingerprintArrowLeft jscFingerprintArrowLeft" style="left: 74.84731565365591px;">
                        <img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/FingerprintArrowLeft.png">
                    </div>
                    <!--箭头右-->
                    <div class="Position FingerprintArrowRight jscFingerprintArrowRight" style="right: 74.84731565365591px;">
                        <img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/FingerprintArrowRight.png">
                    </div>

                    <!--外围向外扩散的圆-->
                    <div class="DiffusionRound">

                    </div>
                </div>
                <!--提示-->
                <div class="Position PromptStatement">
                    <h1>
                        <!--红灯-->
                        <img class="jscTestTipImg" src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/RedLight.png">
                        <!--绿灯-->
                        <img class="jscTestTipImg" style="display:none;" src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/Green.png">
                    </h1>

                    <p class="jscTestText">等待扫描</p>
                </div>
            </div>
        </div>


        <div class="step02" style="display: none">
            <div class="touch_box">
                <img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/bg.jpg" class="bj">
                <img src="http://1251008728.cdn.myqcloud.com/1251008728/hanchao/title3.png" class="test_title01">

                <!--扫描圆区域-->
                <div class="ScanningRoundWrap">
                    <!--内圆-->
                    <div class="ScanningRoundInner">
                        <!--四个角-->
                        <div class="RoundInnerBg rotate"><img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/RoundInnerBg.png">
                        </div>
                        <!--头像-->
                        <div class="ScanningTx">
                            <img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/manTx2.png">
                        </div>
                        <!--红线扫描-->
                        <div class="ScanningLine jscScanningLine analysis" style="top: 24.970748252969372px;"><img
                                src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/Line.png"></div>
                        <!--Mask遮罩PNG-->
                        <div class="MaskPNG">
                            <img src="http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/MaskPng.png">
                        </div>
                        <!--分析扫描-->
                        <div class="AnalysisText" style="">
                            <span class="jscAnalysisText"
                                  style="margin: auto; display: block; text-align: left; width: 120px; color: inherit; font-size: inherit; ">正在扫描分析</span>
                        </div>
                    </div>
                </div>

                <div class="ScanningBottom">
                    <div class="ScanningBottomUl">
                        <div class="ScanningBottomLi">
                            <h1>
                                <canvas id="jscReaderInfo" width="133" height="133"
                                        style="background: url(http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/ReadDataIcon.png) no-repeat; background-size:cover; "></canvas>

                            </h1>
                            <p>1-8染色体分析</p>
                        </div>
                        <div class="ScanningBottomLi">
                            <h1>
                                <canvas id="jscAnalysisFriends" width="133" height="133"
                                        style="background: url(http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/SharePyIcon.png) no-repeat; background-size: cover; "></canvas>
                            </h1>
                            <p>9-18染色体分析</p>
                        </div>
                        <div class="ScanningBottomLi">
                            <h1>
                                <canvas id="jscTestYouPhoto" width="133" height="133"
                                        style="background: url(http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/SaoMiaoPohotIcon.png) no-repeat; background-size: cover; "></canvas>
                            </h1>
                            <p>19-23染色体分析</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="step03" style="display: none">

            <div id="result">

                <img id="result" src="http://1251008728.cdn.myqcloud.com/1251008728/shenmi/testResult7.jpg" alt=""/>

            </div>

        </div>

        <!--首页Icon-->
        <div class="HomeButton">

        </div>

    </div>
    <!--main end-->
</div>

<script type="text/javascript">

    var pageTimer = {};

    Cmn.Func.MobileAdaptive(640, "", "http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/HorizontalPic.jpg", Cmn.Func.MobileAdaptiveMode.WidthCutOutHeight);

    function ScanningLineAnimte() {
        $(".jscScanningLine").animate({ top: "370px" }, 1800, function () {
            $(this).animate({ top: "0px" }, 1800, function () {
                ScanningLineAnimte();
            })
        })

    }
    ScanningLineAnimte();
    var DotCount = 3;
    var AnalysisTextAnimte = function () {

        var _dot = "";
        for (var _i = 0; _i < DotCount; _i++) {
            _dot = _dot + ".";
        }
        $(".jscAnalysisText").html("正在扫描分析" + _dot);

        window.setTimeout(function () {
            DotCount--;
            if (DotCount < 0) {
                DotCount = 3;
            }
            AnalysisTextAnimte();
        }, 500);
    }
    AnalysisTextAnimte();
    var DrawAct = (function () {

        var _DrawAct = function (opt) {
            var _self = this;
            _self.o = {
                canvas: "",
                color: "#e00a23",
                speed: 15,
                lineWidth: 8.0,
                radius: 94 / 2,
                x: 134 / 2,
                y: 134 / 2,
                callback: function () {
                }
            }

            _self.o = $.extend(_self.o, opt);
            _self.canvaso = $(_self.o.canvas)[0];
            _self.ctx = _self.canvaso.getContext('2d');
            _self.width = $(_self.o.canvas).width();
            _self.height = $(_self.o.canvas).height();
            _self.inteval = 0;
        }

        _DrawAct.prototype = {
            Start: function () {

                var _self = this;
                _self.ctx.strokeStyle = _self.o.color;
                _self.ctx.shadowColor = "#df5c6b";
                _self.ctx.lineWidth = 9.0;
                _self.ctx.shadowBlur = 20;
                var _step = 1, _stepMax = 100, _startAngle = 0, _endAngle, _add = Math.PI * 2 / 100;

                _self.inteval = setInterval(function () {
                    if (_step <= _stepMax) {
                        _endAngle = _startAngle + _add;
                        _self.ctx.beginPath();
                        _self.ctx.arc(_self.o.x, _self.o.y, _self.o.radius, _startAngle, _endAngle, false);
                        _self.ctx.lineWidth = _self.o.lineWidth;
                        _self.ctx.stroke();
                        _startAngle = _endAngle;
                        _step++;
                    } else {
                        clearInterval(_self.inteval);
                        _self.inteval = null;
                        _self.o.callback();
                    }
                }, _self.o.speed);
            }
        }

        return function (opt) {
            return new _DrawAct(opt);
        }

    })();

    var start_play2 = function (){
        //loading
        DrawAct({
            canvas: "#jscReaderInfo", callback: function () {
                DrawAct({
                    canvas: "#jscAnalysisFriends", callback: function () {
                        DrawAct({
                            canvas: "#jscTestYouPhoto", callback: function () {
                                //扫描完毕做的事情
                                window.setTimeout(function () {

                                    console.log("----done------------");
                                    window.location.href = "http://wei.51self.com/weitest/948992268/return";

                                }, 500);
                            }
                        }).Start()
                    }
                }).Start()

            }
        }).Start();

    }
</script>

<script type="text/javascript">
    Cmn.Func.MobileAdaptive(640, "", "http://1251008728.cdn.myqcloud.com/1251008728/2014/08/14/HorizontalPic.jpg", Cmn.Func.MobileAdaptiveMode.WidthCutOutHeight);
</script>
</body>
   
    <br/>

 
    <div style="display: none;">                                                   
  <script src="http://v1.cnzz.com/z_stat.php?id=1000438304&web_id=1000438304" language="JavaScript"></script>
</div>   

   
      <script>
  var url="/weitest/stat?type=pv&cid=272&gid=949&uid="
  var img = new Image();
  img.src = url;
</script>

</html>

<!DOCTYPE html>
<html>
    <head>
      <link href="http://wei.qq275.com/vapp/shangjieba.png" rel="shortcut icon" type="image/vnd.microsoft.icon">
      <title>测测您的辨色能力</title>
      <meta charset="utf-8">

        <script src="http://wx.51self.com/js/jquery.min.js"></script>

      <script>  
        function click_ad(idx){
          ajax = new XMLHttpRequest();
          ajax.open('GET', "/weitest/click_stat?id=" + idx, true);
          ajax.send(null);
          return false;
        }
      </script>

      <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no">
      <script type="text/javascript">
        $(document).ready(function(){
        var result=0;
        var result_message;
        var a = 0;
        var b = 0;
        var c = 0;
        var d = 0;
        var res_arr = [];      
        var score = 0;    
        var qnum =  7;
        var result_scores = [0,1,2,3,4,5,6,7].sort(function(a,b){return a>b?1:-1});

        $(".options ul li").on('click',(function(){
          var  node = $(this).parent().parent().parent();
          var next_node = $(node).next();

          var dataScore = $(this).attr("data-score");
          var dataNext = $(this).attr("data-next");
          score += parseInt(dataScore) ;

          if( dataScore === '0'){
            $('#test_desc').addClass('hide');
            $('#test_title').removeClass('hide') ;
          }

          $(node).hide();

          if(parseInt(dataNext) > qnum ){           
              if (false)
                  hideResult()  ;  
              $('#test_title').addClass('hide');  
              var ri=0;             
              for(var a=0; a<result_scores.length;a++){                    
                   if ( score >= result_scores[a] ){  
                      ri = a;
                   }             
              }
             score = result_scores[ri];  
              $(".result-" + score).show();
              if ( true ) {
                  $("#share2").hide();
              }else{
                  $("#share1").hide();
              }
          }else{
              $(".question-"+dataNext).show();
          }
        }));

        $(".prev a").click(function(){
            var node = $(this).parent().parent();
            var prev_node = $(node).prev();

            if(prev_node.hasClass("question")){
                $(node).hide();
                $(prev_node).show();
            }
        });

        function hideResult () {
          var div = document.createElement('div') ,
              img = document.createElement('img') ; 

          img.src = 'http://1251008728.cdn.myqcloud.com/1251008728/1q/share.png' ;
          img.style.width= '100%' ;

          div.id = 'show_share_img' ; 
          div.style.position = 'fixed' ; 
          div.style.top = 0; 
          div.style.left = 0; 
          div.style.height = '100%';
          div.style.width = '100%';
          div.style.background = 'rgb(0,0,0)' ; 
          div.style.zIndex = '999' ;  

          div.appendChild(img) ; 
          document.body.appendChild(div) ;
        }
      });

  function show_result() {
    var result_show = document.getElementById('show_share_img')
    if(result_show != null) result_show.style.display =  'none' ;
}

     var r = -1;  
      var share_callback_hy = function () {
            ajax = new XMLHttpRequest();
            ajax.open('GET', '/weitest/wx_share?f=hy_1134553748&r=' + r, true);
            ajax.send(null);
        }

        var share_callback_pyq = function () {
            ajax = new XMLHttpRequest();
            ajax.open('GET', '/weitest/wx_share?f=pyq_1134553748&r=' + r, true);
            ajax.send(null);
        }

        var dataForWeixin = {
               appId: "wx2e989fd4b9bdb555",
              TLImg: "http://wx.51self.com/bianse/img/18_6.gif",
              url:  "http://newcweqymp.51self.com" + "/xyz/weitest/1145947782"  ,    
              title: "测测您的辨色能力 " , 
              desc: "色盲通常男多于女，发生率在我国男性约为5%～8%、女性0.5～1%;日本男性约为4%～5%、女性0.5%;欧美男性8%、女性0.4%。"
        };


(function(){
	var onBridgeReady = function () {	
		WeixinJSBridge.on('menu:share:appmessage', function(argv){   
			WeixinJSBridge.invoke('sendAppMessage',{
				'img_url' : dataForWeixin.TLImg ,
				'img_width' : '120',
				'img_height' : '120',
				'link' : dataForWeixin.url,
				'desc' : dataForWeixin.desc,
				'title' : dataForWeixin.title
			}, function(res) {
				switch(res.err_msg) {
					case "send_app_msg:confirm":
					case "send_app_msg:ok":
						show_result();
						break;
				}
			});
			share_callback_hy ();
		});
		WeixinJSBridge.on('menu:share:timeline', function(argv){                  
			WeixinJSBridge.invoke('shareTimeline',{
				'img_url' : dataForWeixin.TLImg ,
				'img_width' : '120',
				'img_height' : '120',
				'link' : dataForWeixin.url,
				'desc' : dataForWeixin.desc,
				'title' : dataForWeixin.title
			}, function(res) {
				switch(res.err_msg) {
					case "share_timeline:confirm":
					case "share_timeline:ok":
						show_result();
						break;
				}
			});
			share_callback_pyq();
		});
	};
	
	if(document.addEventListener){
		document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
	} else if(document.attachEvent){
		document.attachEvent('WeixinJSBridgeReady' , onBridgeReady);
		document.attachEvent('onWeixinJSBridgeReady' , onBridgeReady);
	}
	
})();	

      </script>
      <style type="text/css">
        html, body {
margin: 0;
color: #000;
background-color: #daf3ff;
font-size: 67.5%;
font-family: Arial, "微软雅黑", Helvetica, sans-serif;
-webkit-tap-highlight-color: rgba(0,0,0,0);
max-height: 400px;
}


.main {
padding: 10px;
padding-top: 0;
margin-top: -10px;
text-align: center;
left: 40%;
}

      ul, li{
        list-style: none;padding:0;
      }

   /*   img{width: 100%;}*/

      p{margin: 0; padding: 5px;}

      .title{
        margin: 0 auto;
      }

      .title h2{
        color: #fff;
        padding: 10px 0;
        text-align: center;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        font-size: 2.0em;
        font-weight: normal;
        margin-bottom: 0;
        margin-top:5px;
        background: url(http://1251008728.cdn.myqcloud.com/1251008728/1q/title_bg.png) no-repeat;
        height: 40px;
        background-size: 100%;
      }

      .title-sub{
        padding: 20px 20px;
        color: #761511;
        border-top: 0;
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
        margin: 0 auto;
        filter:Alpha(opacity=20);
        font-size: 2.1em;
      }

      .question{
        width: 85%;
        margin: 0 auto;
        margin-top: 10px;
        display: none;
      }

      .question-title{
        color:#761511;
        font-size:2.4em;
      }

      .question.current{
        display: block;
      }

      .result{
        display:none;
        font-size: 250%;
      }

      .options ul{
        padding: 0;
      }

      .options li{
        margin: 15px 0;
        padding: 5px 15px;
        list-style-type: none;
      }

      .options li p{
        text-align: center;
      }

      .options.button li{
        border: 1px solid #f9baba;
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        color: #761511;
        font-weight: bold;
        line-height:1.7em;
        font-size: 2.0em;

        background:#f9baba;
        filter:Alpha(opacity=60);
      }

      .options.button li{
        padding: 5px 0;
      }

      .options li.selected{
        background: #cf6271 !important;
      }

      .prev{
        margin-top: 30px;
        font-weight: 300;
        font-size: 12px;
        float: right;
        padding-bottom: 50px;
      }

      .prev a:link{
        color: #fff;
      }

      .tools-button{
        padding: 10px 0;
        color: #317eac;
        text-align: center;
        margin: 0 auto;
        width: 80%;
        filter:Alpha(opacity=30);

        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;

        margin-top: 30px;

      }

      .share{
        filter:Alpha(opacity=60);
        color: #317eac;
        font-size:1.3em;
      }

      #tip {
        display: none;
        position: absolute;
        top: 10px;
        left: 10px;
      }

      #mask {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: none;
        background-color: #333;
        filter: alpha(Opacity=90);
        -moz-opacity: 0.9;
        opacity: 0.9;
      }
      .wrapper{    
        padding-top: 0;
        margin-top: -10px;
        text-align: center;
        left: 40%;
       }    

      .slides{padding-left:20px;}
      li.menu{
        float: left; 
        margin-left: 5px; 
        width: 30%;
      }

      .begin-test{
        width: 50%;
        margin: 0 auto;
        padding-top: 30px;
      }

      .hide{display: none;}
 
      </style>
    </head>
    

      <div class="flexslider"   style="margin:0px auto; align:center;" >
      <a href="http://51self.com/weitest/1203611402" >
          <img style="width:100%; max-height:60px;" src="http://kaokao.qiniudn.com/head1.png" /> </a>
  <div class="holder" style="clear:both;"></div>
</div>


    <body style="background-color: rgb(250, 249, 249);" >
<div class='wrapper'>
 <div class="title header-title" id='test_desc'>
  <h2>
    测测您的辨色能力
  </h2>
  <div class="title-sub">
  <div >
  </div>
色盲通常男多于女，发生率在我国男性约为5%～8%、女性0.5～1%;日本男性约为4%～5%、女性0.5%;欧美男性8%、女性0.4%。
  </div>

</div>

<div id="test_title" class="hide title">
      <h2>测测您的辨色能力</h2>
    </div>

    <div class="begin-test">
      <div class="options button">
        <ul><li data-score='0'  data-next='1'><p>马上开始</p></li></ul>
       </div>
    </div>





 
    <div class="question question-1 ">
      <div class="question-title">
           1. 这个字母是？
      </div>
      
          <div class="question-title">
             <img src="http://wx.51self.com/bianse/img/18_1.gif"  width='260'>
          </div>
       
      <div class="options button">
        <ul>
          
          
                
            
              <li data-score="1"  data-next="2">           
                  <p>
                  A
                  </p>
               </li>            
            
              <li data-score="0"  data-next="2">           
                  <p>
                  B
                  </p>
               </li>            
            
              <li data-score="0"  data-next="2">           
                  <p>
                  C
                  </p>
               </li>            
            
              <li data-score="0"  data-next="2">           
                  <p>
                  没有字母
                  </p>
               </li>            
            


          
        </ul>
      </div>

    </div>
 
    <div class="question question-2 ">
      <div class="question-title">
          2. 这个字母是？
      </div>
      
          <div class="question-title">
             <img src="http://wx.51self.com/bianse/img/18_2.gif"  width='260'>
          </div>
       
      <div class="options button">
        <ul>
          
          
                
            
              <li data-score="0"  data-next="3">           
                  <p>
                  A
                  </p>
               </li>            
            
              <li data-score="0"  data-next="3">           
                  <p>
                  B
                  </p>
               </li>            
            
              <li data-score="1"  data-next="3">           
                  <p>
                  C
                  </p>
               </li>            
            
              <li data-score="0"  data-next="3">           
                  <p>
                  没有字母
                  </p>
               </li>            
            


          
        </ul>
      </div>

    </div>
 
    <div class="question question-3 ">
      <div class="question-title">
          3. 有几条线
      </div>
      
          <div class="question-title">
             <img src="http://wx.51self.com/bianse/img/18_3.gif"  width='260'>
          </div>
       
      <div class="options button">
        <ul>
          
          
                
            
              <li data-score="0"  data-next="4">           
                  <p>
                  一条线
                  </p>
               </li>            
            
              <li data-score="1"  data-next="4">           
                  <p>
                  两条线

                  </p>
               </li>            
            
              <li data-score="0"  data-next="4">           
                  <p>
                  三条线
                  </p>
               </li>            
            
              <li data-score="0"  data-next="4">           
                  <p>
                  没有
                  </p>
               </li>            
            


          
        </ul>
      </div>

    </div>
 
    <div class="question question-4 ">
      <div class="question-title">
          4. 这个数字是几？
      </div>
      
          <div class="question-title">
             <img src="http://wx.51self.com/bianse/img/18_4.gif"  width='260'>
          </div>
       
      <div class="options button">
        <ul>
          
          
                
            
              <li data-score="0"  data-next="5">           
                  <p>
                  2
                  </p>
               </li>            
            
              <li data-score="0"  data-next="5">           
                  <p>
                  6
                  </p>
               </li>            
            
              <li data-score="1"  data-next="5">           
                  <p>
                  26
                  </p>
               </li>            
            
              <li data-score="0"  data-next="5">           
                  <p>
                  没有
                  </p>
               </li>            
            


          
        </ul>
      </div>

    </div>
 
    <div class="question question-5 ">
      <div class="question-title">
          5. 这是什么动物
      </div>
      
          <div class="question-title">
             <img src="http://wx.51self.com/bianse/img/18_5.gif"  width='260'>
          </div>
       
      <div class="options button">
        <ul>
          
          
                
            
              <li data-score="0"  data-next="6">           
                  <p>
                  鹿
                  </p>
               </li>            
            
              <li data-score="1"  data-next="6">           
                  <p>
                  牛
                  </p>
               </li>            
            
              <li data-score="0"  data-next="6">           
                  <p>
                  兔
                  </p>
               </li>            
            
              <li data-score="0"  data-next="6">           
                  <p>
                  没有
                  </p>
               </li>            
            


          
        </ul>
      </div>

    </div>
 
    <div class="question question-6 ">
      <div class="question-title">
          6. 这个数字是几？
      </div>
      
          <div class="question-title">
             <img src="http://wx.51self.com/bianse/img/18_6.gif"  width='260'>
          </div>
       
      <div class="options button">
        <ul>
          
          
                
            
              <li data-score="0"  data-next="7">           
                  <p>
                  5
                  </p>
               </li>            
            
              <li data-score="1"  data-next="7">           
                  <p>
                  6
                  </p>
               </li>            
            
              <li data-score="0"  data-next="7">           
                  <p>
                  8
                  </p>
               </li>            
            
              <li data-score="0"  data-next="7">           
                  <p>
                  没有
                  </p>
               </li>            
            


          
        </ul>
      </div>

    </div>
 
    <div class="question question-7 ">
      <div class="question-title">
          7.  这个数字是几？
      </div>
      
          <div class="question-title">
             <img src="http://wx.51self.com/bianse/img/18_7.gif"  width='260'>
          </div>
       
      <div class="options button">
        <ul>
          
          
                
            
              <li data-score="0"  data-next="8">           
                  <p>
                  5
                  </p>
               </li>            
            
              <li data-score="0"  data-next="8">           
                  <p>
                  6
                  </p>
               </li>            
            
              <li data-score="0"  data-next="8">           
                  <p>
                  8
                  </p>
               </li>            
            
              <li data-score="1"  data-next="8">           
                  <p>
                  没有
                  </p>
               </li>            
            


          
        </ul>
      </div>

    </div>
 



<div class="result result-0">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                辨色能力: 0%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>

<div class="result result-1">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                辨色能力：14.28%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>

<div class="result result-2">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                辨色能力：28.56%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>

<div class="result result-3">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                辨色能力：42.84%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>

<div class="result result-4">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                辨色能力：57.12%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>

<div class="result result-5">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                辨色能力：71.4%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>

<div class="result result-6">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                辨色能力：85.68%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>

<div class="result result-7">
            <div class="title">
              <h2>
                结果
              </h2>
              <div class="title-sub aside">
                好牛！ 你的辨色能力：100%
              </div>
              
               <div class="desc-sub aside">
                
              </div>

            </div>

            <div class="share tools-button" >
              <a href='http://more.51self.com'>更多好玩游戏</a>
            </div>


          </div>


       <div id="mask" onclick="mask();"></div>
       <div id="tip"  onclick="mask();"><img  style="width:320px;" src="http://1251008728.cdn.myqcloud.com/1251008728//assets/images/tip-share.jpg"/>
       </div>
<br/>
</div>
</body>
   
    <br/>

 
    <div style="display: none;">                                                   
  <script src="http://v1.cnzz.com/z_stat.php?id=1000438304&web_id=1000438304" language="JavaScript"></script>
</div>   

   
      <script>
  var url="/weitest/stat?type=pv&cid=314&gid=1097&uid="
  var img = new Image();
  img.src = url;
</script>

</html>
